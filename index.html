<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>WEB„Çµ„Ç§„Éà„Éó„É¨„Éì„É•„Éº„Çµ„Ç§„Éà WEPREVIEWÔºà„Ç¶„Çß„ÉÉ„Éó„É¨„Éì„É•„ÉºÔºâ</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 2rem;
      background-color: #f9f9f9;
    }

    h1 {
      margin-bottom: 1.5rem;
      font-size: 1.5rem;
      color: #333;
    }

    label {
      display: block;
      margin-top: 1rem;
      font-weight: bold;
    }

    input, select {
      width: 100%;
      max-width: 500px;
      padding: 0.5rem;
      margin-top: 0.3rem;
      border: 1px solid #ccc;
      border-radius: 5px;
      font-size: 1rem;
    }

    button {
      margin-top: 1.5rem;
      padding: 0.6rem 1.5rem;
      font-size: 1.1rem;
      background: #4a90e2;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    button:hover {
      background: #357abd;
    }

    #viewer {
      margin-top: 2rem;
      width: 100%;
      border: 1px solid #ccc;
      border-radius: 8px;
      overflow: hidden;
    }

    iframe {
      width: 100%;
      height: 100%;
      border: none;
      display: block;
    }

    #previewImage {
      width: 100%;
      display: block;
    }

    @media (max-width: 600px) {
      input, select, button {
        width: 100%;
        font-size: 1rem;
      }
    }
  </style>
</head>
<body>

  <h1>WEB„Çµ„Ç§„Éà„Éó„É¨„Éì„É•„Éº„Çµ„Ç§„Éà WEPREVIEWÔºà„Ç¶„Çß„ÉÉ„Éó„É¨„Éì„É•„ÉºÔºâ</h1>

  <label for="url">„Çµ„Ç§„ÉàURLÔºàhttps://„Åã„ÇâÔºâ</label>
  <input type="text" id="url" placeholder="https://example.com">

  <label for="preset">Á´ØÊú´„Éó„É™„Çª„ÉÉ„Éà</label>
  <select id="preset" onchange="applyPreset()">
    <option value="">ÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ</option>
    <option value="390x844">üì± iPhone 14 Pro (390√ó844)</option>
    <option value="768x1024">üì± iPad (768√ó1024)</option>
    <option value="1366x768">üíª „Éé„Éº„ÉàPC (1366√ó768)</option>
    <option value="1920x1080">üñ•Ô∏è „Éá„Çπ„ÇØ„Éà„ÉÉ„Éó (1920√ó1080)</option>
  </select>

  <label for="height">Á∏¶„ÅÆÁîªÈù¢„Çµ„Ç§„Ç∫ÔºàpxÔºâ</label>
  <input type="number" id="height" placeholder="‰æã: 800">

  <label for="width">Ê®™„ÅÆÁîªÈù¢„Çµ„Ç§„Ç∫ÔºàpxÔºâ</label>
  <input type="number" id="width" placeholder="‰æã: 1280">

  <p>„Çµ„Ç§„Ç∫Ë®àÊ∏¨„ÅØ<a href="https://x.gd/ewrwr4">„Åì„Å°„Çâ„ÅÆ„Çµ„Ç§„Éà</a>„Åå„Åä„Åô„Åô„ÇÅ„Åß„ÅôÔºàÂà•„Çµ„Ç§„Éà„Åß„ÅôÔºâ</p>

  <div style="margin-top: 1rem;">
    <button onclick="showIframe()">iframe„É¢„Éº„Éâ</button>
    <button onclick="showImage()">ÁîªÂÉè„É¢„Éº„ÉâÔºàÊóßÔºâ</button>
  </div>

  <div id="viewer" style="display:none;">
    <iframe id="frame" src="" sandbox="allow-scripts allow-forms allow-same-origin"></iframe>
    <img id="previewImage" src="" style="display:none;">
  </div>
<script>
// =========================
// „Éó„É™„Çª„ÉÉ„ÉàÈÅ©Áî®
// =========================
function applyPreset() {
  const value = document.getElementById("preset").value;
  if (!value) return;
  const [w, h] = value.split("x");
  document.getElementById("width").value = w;
  document.getElementById("height").value = h;
}

// =========================
// ÂÖ•ÂäõÂÄ§ÂèñÂæó„ÉªÊ§úË®º
// =========================
function getInputValues() {
  const url = document.getElementById('url').value.trim();
  const h = parseInt(document.getElementById('height').value.trim(), 10);
  const w = parseInt(document.getElementById('width').value.trim(), 10);

  if (!url.startsWith('https://')) {
    alert('URL„ÅØ https:// „Åã„ÇâÂßã„ÇÅ„Å¶„Åè„Å†„Åï„ÅÑÔºÅ');
    return null;
  }
  if (isNaN(h) || isNaN(w)) {
    alert('Á∏¶Ê®™„Çµ„Ç§„Ç∫„ÇíÊ≠£„Åó„ÅèÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑÔºÅ');
    return null;
  }
  return { url, w, h };
}

// =========================
// extract Á≥ªÔºàÂÖ®ÂÆöÁæ©Ôºâ
// =========================

// YouTube
function extractYouTubeId(url) {
  try {
    const u = new URL(url);
    if (u.searchParams.has('v')) {
      const v = u.searchParams.get('v');
      if (/^[A-Za-z0-9_-]{11}$/.test(v)) return v;
    }
    if (u.hostname === 'youtu.be') {
      const id = u.pathname.slice(1);
      if (/^[A-Za-z0-9_-]{11}$/.test(id)) return id;
    }
    const p = u.pathname.split('/');
    const i = p.indexOf('embed');
    if (i >= 0 && p[i + 1]) return p[i + 1];
    const s = p.indexOf('shorts');
    if (s >= 0 && p[s + 1]) return p[s + 1];
  } catch {}
  return null;
}

// Vimeo
function extractVimeoId(url) {
  try {
    const p = new URL(url).pathname.split('/');
    for (const part of p) if (/^\d+$/.test(part)) return part;
  } catch {}
  return null;
}

// „Éã„Ç≥„Éã„Ç≥
function extractNicoId(url) {
  try {
    const u = new URL(url);
    const p = u.pathname.split('/');
    const i = p.indexOf('watch');
    if (i >= 0 && p[i + 1]) return p[i + 1];
    if (u.hostname === 'nico.ms') return u.pathname.slice(1);
  } catch {}
  return null;
}

// Instagram
function extractInstagramShortcode(url) {
  try {
    const p = new URL(url).pathname.split('/').filter(Boolean);
    const i = p.findIndex(x => x === 'p' || x === 'reel' || x === 'tv');
    if (i >= 0 && p[i + 1]) return p[i + 1];
  } catch {}
  return null;
}

// TikTok
function extractTikTokId(url) {
  try {
    const p = new URL(url).pathname.split('/').filter(Boolean);
    const i = p.indexOf('video');
    if (i >= 0 && p[i + 1]) return p[i + 1];
  } catch {}
  return null;
}

// X / Twitter
function extractTweetId(url) {
  try {
    const p = new URL(url).pathname.split('/').filter(Boolean);
    const i = p.indexOf('status');
    if (i >= 0 && p[i + 1]) return p[i + 1];
  } catch {}
  return null;
}

// Imgur
function extractImgur(url) {
  try {
    const u = new URL(url);
    if (u.hostname === 'i.imgur.com') return url;
    if (u.hostname === 'imgur.com' || u.hostname === 'www.imgur.com') {
      const p = u.pathname.split('/').filter(Boolean);
      if (p[0]) return `https://i.imgur.com/${p[0]}.jpg`;
    }
  } catch {}
  return null;
}

// Pornhub
function extractPornhub(url) {
  try {
    const u = new URL(url);
    if (u.pathname.startsWith('/embed/')) return url;
    const k = u.searchParams.get('viewkey');
    if (k) return `https://www.pornhub.com/embed/${k}`;
  } catch {}
  return null;
}

// Xvideos
function extractXvideos(url) {
  try {
    const u = new URL(url);
    if (u.pathname.startsWith('/embedframe/')) return url;
    const m = u.pathname.match(/\/video(\d+)/);
    if (m) return `https://www.xvideos.com/embedframe/${m[1]}`;
  } catch {}
  return null;
}

// FC2
function extractFC2(url) {
  try {
    const p = new URL(url).pathname.split('/');
    if (p[2]) return `https://video.fc2.com/embed/${p[2]}`;
  } catch {}
  return null;
}

// Twitch
function extractTwitch(url) {
  try {
    const p = new URL(url).pathname.split('/').filter(Boolean);
    if (p[0] === 'videos' && p[1]) {
      return `https://player.twitch.tv/?video=${p[1]}&parent=${location.hostname}`;
    }
  } catch {}
  return null;
}

// Dailymotion
function extractDailymotion(url) {
  try {
    const u = new URL(url);
    if (u.pathname.startsWith('/embed/video/')) return url;
    const m = u.pathname.match(/\/video\/([^_]+)/);
    if (m) return `https://www.dailymotion.com/embed/video/${m[1]}`;
  } catch {}
  return null;
}

// Facebook
function extractFacebook(url) {
  try {
    new URL(url);
    return `https://www.facebook.com/plugins/video.php?href=${encodeURIComponent(url)}`;
  } catch {}
  return null;
}

// =========================
// iframe „É¢„Éº„Éâ
// =========================
function showIframe() {
  const vals = getInputValues();
  if (!vals) return;
  const { url, w, h } = vals;

  const frame = document.getElementById('frame');
  const img = document.getElementById('previewImage');
  const viewer = document.getElementById('viewer');
  viewer.style.display = 'block';

  let finalSrc = null;
  let useEmbed = true;

  const yt = extractYouTubeId(url);
  if (yt) finalSrc = `https://www.youtube.com/embed/${yt}`;
  else if (extractTikTokId(url)) finalSrc = `https://www.tiktok.com/embed/v3/${extractTikTokId(url)}`;
  else if (extractInstagramShortcode(url)) finalSrc = `https://www.instagram.com/p/${extractInstagramShortcode(url)}/embed`;
  else if (extractImgur(url)) finalSrc = extractImgur(url);
  else if (extractPornhub(url)) finalSrc = extractPornhub(url);
  else if (extractXvideos(url)) finalSrc = extractXvideos(url);
  else if (extractFC2(url)) finalSrc = extractFC2(url);
  else if (extractTwitch(url)) finalSrc = extractTwitch(url);
  else if (extractDailymotion(url)) finalSrc = extractDailymotion(url);
  else if (extractFacebook(url)) finalSrc = extractFacebook(url);
  else if (extractVimeoId(url)) finalSrc = `https://player.vimeo.com/video/${extractVimeoId(url)}`;
  else if (extractNicoId(url)) finalSrc = `https://embed.nicovideo.jp/watch/${extractNicoId(url)}`;
  else if (extractTweetId(url)) useEmbed = false;

  if (useEmbed && finalSrc) {
    frame.src = finalSrc;
    frame.style.width = w + 'px';
    frame.style.height = h + 'px';
    frame.style.display = 'block';
    img.style.display = 'none';
  } else {
    frame.style.display = 'none';
    img.style.display = 'none';
    viewer.innerHTML = '';
    const tw = extractTweetId(url);
    if (tw) {
      const b = document.createElement('blockquote');
      b.className = 'twitter-tweet';
      b.innerHTML = `<a href="https://twitter.com/i/web/status/${tw}"></a>`;
      viewer.appendChild(b);
      const s = document.createElement('script');
      s.src = 'https://platform.twitter.com/widgets.js';
      s.async = true;
      viewer.appendChild(s);
    } else {
      window.open(url, '_blank');
    }
  }
}

// =========================
// ÁîªÂÉè„É¢„Éº„Éâ
// =========================
function showImage() {
  const vals = getInputValues();
  if (!vals) return;
  const { url, w, h } = vals;
  const img = document.getElementById('previewImage');
  const frame = document.getElementById('frame');
  const viewer = document.getElementById('viewer');
  viewer.style.display = 'block';
  img.src = `https://s.wordpress.com/mshots/v1/${encodeURIComponent(url)}?w=${w}&h=${h}&r=1`;
  img.style.display = 'block';
  frame.style.display = 'none';
}
</script>


</body>
</html>




